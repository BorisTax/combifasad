import{u as n,y as R,R as N,a as O,r as y,m as i,I as c,P as x,j as P,E as v,c as E,T as L,d as U,e as _,z as h,s as j,B as K}from"./index.d92a0e4e.js";function F(){var p,T,r;const{permissions:f}=n(_),g=R(),t=f.get(N.SPECIFICATION),D=n(h),s=n(j),l=O(K),[u,m]=y.exports.useState([...s.keys()][0]),A=["\u041A\u043E\u0434","\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","\u0415\u0434","\u041A\u043E\u044D\u0444-\u0442"],d=[];s.forEach((e,a)=>d.push({key:a,data:[e.code,e.name,D.get(e.units),`${e.coef}`]}));const S=[{caption:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435:",value:((p=s.get(u))==null?void 0:p.name)||"",message:i.ENTER_CAPTION,type:c.TEXT},{caption:"\u041A\u043E\u044D\u0444-\u0442:",value:((T=s.get(u))==null?void 0:T.coef)||0,message:i.ENTER_COEF,type:c.TEXT,propertyType:x.POSITIVE_NUMBER},{caption:"\u041A\u043E\u0434:",value:((r=s.get(u))==null?void 0:r.code)||"",message:i.ENTER_CODE,type:c.TEXT}];return y.exports.useEffect(()=>{t!=null&&t.Read||g("/")},[t]),P(v,{children:[E(L,{heads:A,content:d,onSelectKey:e=>m(e)}),(t==null?void 0:t.Create)||(t==null?void 0:t.Update)||(t==null?void 0:t.Delete)?E(U,{items:S,onUpdate:async(e,a)=>{const{units:C,charType:I,...o}=s.get(u);return e[0]&&(o.name=a[0]),e[1]&&(o.coef=+a[1]),e[2]&&(o.code=a[2]),await l({id:u,units:C,charType:I,...o})}}):E("div",{})]})}export{F as default};
