import{a as $,u as T,r as x,aP as Q,F as g,d as u,M as F,j as f,a6 as X,aQ as Z,aR as J,aS as ee,aT as te,aU as ue,R as ae,aV as se,C as c,aW as le,a4 as oe,a7 as d,_ as r,a5 as ne,aX as ce,aY as me,aZ as v,a_ as ie,k as de,a$ as re,b0 as pe,l as he,q as Ee}from"./index.226b5c88.js";import{P as U}from"./PropertyGrid.ca13fddd.js";function xe(){const b=$(J),m=T(ee),[h,a]=x.exports.useState(0),n=m[h]||m[0],N=new Map,y=m.map(A=>{const E=Q.get(A.type);return Object.keys(g).find(O=>O===A.type)?(N.has(E)?N.set(E,N.get(E)+1):N.set(E,1),`${E}(${N.get(E)})`):E}),P=x.exports.useMemo(()=>m.map((A,E)=>u("div",{role:"button",className:E===h?"tab-button-active":"tab-button-inactive",onClick:()=>{a(E)},children:`${y[E]}`},E)),[m,h,y]),G=Object.keys(g).find(A=>A===n.type)?F.FASAD:F.CORPUS;return x.exports.useEffect(()=>{h>=m.length&&a(0)},[m,h]),f("div",{children:[u(X,{icon:"excel",caption:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432 Excel",title:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0432 Excel",onClick:()=>b(n.spec,y[h])}),u("div",{className:"d-flex flex-row flex-wrap align-items-center gap-1",children:P}),u("hr",{}),u(Z,{purposes:[G,F.BOTH],specification:n.spec})]})}const fe=(b,m,h,a)=>{const n=$(te),N=T(ue);return x.exports.useEffect(()=>{n(b,m,h,a)},[b,m,h,a,n]),N},S=[0,1,2,3,4,5,6],B={fontStyle:"italic",color:"gray"},R=6,Ce=["200","250","300","350","400","450","500"];function Ae(){const{permissions:b}=T(de),m=b.get(ae.SPECIFICATION),h=T(re),a=$(pe),n=T(he),N=x.exports.useMemo(()=>n.filter(t=>t.purpose!==F.FASAD).map(t=>t.name),[n]),y=x.exports.useMemo(()=>n.filter(t=>t.material===g.DSP&&t.purpose!==F.CORPUS).map(t=>t.name),[n]),P=x.exports.useMemo(()=>n.filter(t=>t.material===g.MIRROR).map(t=>t.name),[n]),G=x.exports.useMemo(()=>n.filter(t=>t.material===g.FMP).map(t=>t.name),[n]),A=x.exports.useMemo(()=>n.filter(t=>t.material===g.SAND).map(t=>t.name),[n]),E=x.exports.useMemo(()=>n.filter(t=>t.material===g.LACOBEL).map(t=>t.name),[n]),O=x.exports.useMemo(()=>n.filter(t=>t.material===g.LACOBELGLASS).map(t=>t.name),[n]),L=T(Ee),H=x.exports.useMemo(()=>L.map(t=>t.name),[L]),{wardKind:j,wardType:k,width:W,depth:K,height:z,dspName:Y,fasades:s,profileName:q,extComplect:p}=h,I=Object.values(s).reduce((t,e)=>e.count+t,0),[{consoleSameHeight:V,consoleSameDepth:M,standSameHeight:_},D]=x.exports.useState({consoleSameHeight:!0,consoleSameDepth:!0,standSameHeight:!0}),w=fe(se.INNER_STAND,h.wardKind,h.width,h.height)||{length:0};return x.exports.useEffect(()=>{_&&a(t=>({...t,extComplect:{...t.extComplect,stand:{...t.extComplect.stand,height:w.length}}}))},[w.length,_]),u("div",{className:"container",children:f("div",{className:"row",children:[u("div",{className:`container col-xs-12 col-sm-12 ${m!=null&&m.Read?"col-md-6 col-lg-4":"col-md-12 col-lg-12"}`,children:f("div",{className:"row",children:[f("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 wardrobe-param-container",children:[u("div",{className:"text-center",children:"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B"}),f(U,{style:{padding:"0.5em",border:"1px solid"},children:[u(c,{title:"\u0421\u0435\u0440\u0438\u044F \u0448\u043A\u0430\u0444\u0430:",value:j,items:le,onChange:(t,e)=>{a(l=>({...l,wardKind:e}))}}),u(c,{title:"\u0422\u0438\u043F \u0448\u043A\u0430\u0444\u0430:",value:k,items:oe,onChange:(t,e)=>{a(l=>({...l,wardType:e}))}}),u("div",{className:"text-end",children:"\u0428\u0438\u0440\u0438\u043D\u0430: "}),u(d,{value:W,type:r.INTEGER_POSITIVE_NUMBER,min:900,max:3e3,setValue:t=>{a(e=>({...e,width:+t}))}}),u("div",{className:"text-end",children:"\u0413\u043B\u0443\u0431\u0438\u043D\u0430: "}),u(d,{value:K,type:r.INTEGER_POSITIVE_NUMBER,min:400,max:700,setValue:t=>{a(e=>({...e,depth:+t}))}}),u("div",{className:"text-end",children:"\u0412\u044B\u0441\u043E\u0442\u0430: "}),u(d,{value:z,type:r.INTEGER_POSITIVE_NUMBER,min:1900,max:2750,setValue:t=>{a(e=>({...e,height:+t}))}}),u(c,{title:"\u0426\u0432\u0435\u0442 \u0414\u0421\u041F:",value:Y,items:N,onChange:(t,e)=>{a(l=>({...l,dspName:e}))}}),u(c,{title:"\u0426\u0432\u0435\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u044F:",value:q,items:H,onChange:(t,e)=>{a(l=>({...l,profileName:e}))}})]}),k!==ne.CORPUS&&f(U,{style:{padding:"0.5em",border:"1px solid"},children:[u("div",{className:"text-end",children:"\u0424\u0430\u0441\u0430\u0434\u043E\u0432 \u0432\u0441\u0435\u0433\u043E: "}),f("div",{className:"d-flex align-items-center justify-content-between",children:[u("div",{children:I}),u("div",{className:"small-button",role:"button",onClick:()=>{a(t=>({...t,fasades:ce}))},children:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C"})]}),u(c,{title:"\u0414\u0421\u041F:",value:`${s.dsp.count}`,items:S,onChange:(t,e)=>{+e+I-s.dsp.count<=R&&a(l=>({...l,fasades:{...s,dsp:{count:+e,names:new Array(+e).fill("")}}}))}}),s.dsp.count>0&&s.dsp.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:y,value:s.dsp.names[e],onChange:(l,C)=>{const i=[...s.dsp.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,dsp:{...o.fasades.dsp,names:i}}}))}},"dsp"+e)),u(c,{title:"\u0417\u0435\u0440\u043A\u0430\u043B\u043E:",value:`${s.mirror.count}`,items:S,onChange:(t,e)=>{+e+I-s.mirror.count<=R&&a(l=>({...l,fasades:{...s,mirror:{count:+e,names:new Array(+e).fill("")}}}))}}),s.mirror.count>0&&s.mirror.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:P,value:s.mirror.names[e],onChange:(l,C)=>{const i=[...s.mirror.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,mirror:{...o.fasades.mirror,names:i}}}))}},"mirror"+e)),u(c,{title:"\u0424\u041C\u041F:",value:`${s.fmp.count}`,items:S,onChange:(t,e)=>{+e+I-s.fmp.count<=R&&a(l=>({...l,fasades:{...s,fmp:{count:+e,names:new Array(+e).fill("")}}}))}}),s.fmp.count>0&&s.fmp.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:G,value:s.fmp.names[e],onChange:(l,C)=>{const i=[...s.fmp.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,fmp:{...o.fasades.fmp,names:i}}}))}},"fmp"+e)),u(c,{title:"\u041F\u0435\u0441\u043A\u043E\u0441\u0442\u0440\u0443\u0439:",value:`${s.sand.count}`,items:S,onChange:(t,e)=>{+e+I-s.sand.count<=R&&a(l=>({...l,fasades:{...s,sand:{count:+e,names:new Array(+e).fill("")}}}))}}),s.sand.count>0&&s.sand.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:A,value:s.sand.names[e],onChange:(l,C)=>{const i=[...s.sand.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,sand:{...o.fasades.sand,names:i}}}))}},"sand"+e)),u(c,{title:"\u041B\u0430\u043A\u043E\u0431\u0435\u043B\u044C:",value:`${s.lacobel.count}`,items:S,onChange:(t,e)=>{+e+I-s.lacobel.count<=R&&a(l=>({...l,fasades:{...s,lacobel:{count:+e,names:new Array(+e).fill("")}}}))}}),s.lacobel.count>0&&s.lacobel.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:E,value:s.lacobel.names[e],onChange:(l,C)=>{const i=[...s.lacobel.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,lacobel:{...o.fasades.lacobel,names:i}}}))}},"lacobel"+e)),u(c,{title:"\u041B\u0430\u043A\u043E\u0431\u0435\u043B\u044C (\u0441\u0442\u0435\u043A\u043B\u043E):",value:`${s.lacobelGlass.count}`,items:S,onChange:(t,e)=>{+e+I-s.lacobelGlass.count<=R&&a(l=>({...l,fasades:{...s,lacobelGlass:{count:+e,names:new Array(+e).fill("")}}}))}}),s.lacobelGlass.count>0&&s.lacobelGlass.names.map((t,e)=>u(c,{styles:B,title:`${e+1}`,items:O,value:s.lacobelGlass.names[e],onChange:(l,C)=>{const i=[...s.lacobelGlass.names];i[e]=C,a(o=>({...o,fasades:{...o.fasades,lacobelGlass:{...o.fasades.lacobelGlass,names:i}}}))}},"lacobelGlass"+e))]})]}),f("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-6 wardrobe-param-container",children:[u("div",{className:"text-center",children:"\u0414\u043E\u043F. \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u0430\u0446\u0438\u044F"}),f(U,{style:{padding:"0.5em",border:"1px solid"},children:[u("div",{}),f("div",{className:"d-flex align-items-center justify-content-between",children:[u("div",{}),u("div",{className:"small-button",role:"button",onClick:()=>{a(t=>({...t,extComplect:me(t.height,t.depth)})),D({consoleSameDepth:!0,consoleSameHeight:!0,standSameHeight:!0})},children:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C"})]}),u("div",{className:"text-end",children:"\u0422\u0435\u043B\u0435\u0441\u043A\u043E\u043F: "}),u(d,{value:p.telescope,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,telescope:+t}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u041A\u043E\u043D\u0441\u043E\u043B\u0438 \u043A\u043E\u043B-\u0432\u043E: "}),u(d,{value:p.console.count,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:2,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,count:+t}}}))}}),f("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0412\u044B\u0441\u043E\u0442\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438: "}),u(v,{styles:{fontSize:"0.8em"},checked:V,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{D(t=>({...t,consoleSameHeight:!V})),V||a(t=>({...t,extComplect:{...t.extComplect,console:{...t.extComplect.console,height:t.height}}}))}})]}),u(d,{disabled:V,value:p.console.height,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:3e3,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,height:+t}}}))}}),f("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0413\u043B\u0443\u0431\u0438\u043D\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438: "}),u(v,{styles:{fontSize:"0.8em"},checked:M,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{D(t=>({...t,consoleSameDepth:!M})),M||a(t=>({...t,extComplect:{...t.extComplect,console:{...t.extComplect.console,depth:t.depth}}}))}})]}),u(d,{disabled:M,value:p.console.depth,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:800,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,console:{...e.extComplect.console,depth:+t}}}))}}),u(c,{title:"\u0428\u0438\u0440\u0438\u043D\u0430 \u043A\u043E\u043D\u0441\u043E\u043B\u0438:",items:Ce,value:`${p.console.width}`,onChange:(t,e)=>{a(l=>({...l,extComplect:{...l.extComplect,console:{...l.extComplect.console,width:+e}}}))}}),u(c,{title:"\u0422\u0438\u043F \u043A\u043E\u043D\u0441\u043E\u043B\u0438:",value:p.console.type||"",items:ie,onChange:(t,e)=>{a(l=>({...l,extComplect:{...l.extComplect,console:{...l.extComplect.console,type:e}}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u041A\u043E\u0437\u044B\u0440\u0435\u043A: "}),u(d,{value:p.blinder,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:1,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,blinder:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u043E\u043B\u043A\u0430 \u0434\u043E\u043F (\u043F\u043E\u043B\u043E\u0447\u043D): "}),u(d,{value:p.shelf,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,shelf:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u043E\u043B\u043A\u0430 \u0434\u043E\u043F (\u043F\u043B\u0430\u0442): "}),u(d,{value:p.shelfPlat,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,shelfPlat:+t}}))}}),u("div",{className:"text-end",children:"\u041F\u0435\u0440\u0435\u043C\u044B\u0447\u043A\u0430 (\u0434\u043E\u043F): "}),u(d,{value:p.pillar,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,pillar:+t}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u0421\u0442\u043E\u0439\u043A\u0430 (\u0434\u043E\u043F) \u043A\u043E\u043B-\u0432\u043E: "}),u(d,{value:p.stand.count,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,stand:{...e.extComplect.stand,count:+t}}}))}}),f("div",{className:"d-flex flex-column align-items-end",children:[u("div",{className:"text-end",children:"\u0421\u0442\u043E\u0439\u043A\u0430 (\u0434\u043E\u043F) \u0440\u0430\u0437\u043C\u0435\u0440: "}),u(v,{styles:{fontSize:"0.8em"},checked:_,caption:"\u043A\u0430\u043A \u0443 \u0448\u043A\u0430\u0444\u0430",onChange:()=>{D(t=>({...t,standSameHeight:!_}))}})]}),u(d,{disabled:_,value:_?w.length:p.stand.height,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:2750,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,stand:{...e.extComplect.stand,height:+t}}}))}}),u("hr",{}),u("hr",{}),u("div",{className:"text-end",children:"\u0422\u0440\u0443\u0431\u0430 (\u0434\u043E\u043F): "}),u(d,{value:p.truba,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,truba:+t}}))}}),u("div",{className:"text-end",children:"\u0422\u0440\u0435\u043C\u043F\u0435\u043B\u044C (\u0434\u043E\u043F): "}),u(d,{value:p.trempel,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,trempel:+t}}))}}),u("div",{className:"text-end",children:"\u0422\u043E\u0447\u043A\u0438 \u0441\u0432\u0435\u0442\u0430: "}),u(d,{value:p.light,type:r.INTEGER_POSITIVE_NUMBER,min:0,max:10,setValue:t=>{a(e=>({...e,extComplect:{...e.extComplect,light:+t}}))}})]})]})]})}),(m==null?void 0:m.Read)&&u("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-8",children:u(xe,{})})]})})}export{Ae as default};
